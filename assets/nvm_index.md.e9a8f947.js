import{_ as l,c as o,b as n,d as s,e as p,a as e,o as t,r as c}from"./app.4eb2f6eb.js";const _=JSON.parse('{"title":"NVM - Node Version Manager","description":"","frontmatter":{},"headers":[{"level":2,"title":"相依","slug":"相依","link":"#相依","children":[]},{"level":2,"title":"安裝","slug":"安裝","link":"#安裝","children":[]},{"level":2,"title":"zshenv","slug":"zshenv","link":"#zshenv","children":[]},{"level":2,"title":"zhsrc","slug":"zhsrc","link":"#zhsrc","children":[]},{"level":2,"title":"default-packages","slug":"default-packages","link":"#default-packages","children":[]},{"level":2,"title":"常用指令","slug":"常用指令","link":"#常用指令","children":[]},{"level":2,"title":"慣用方式","slug":"慣用方式","link":"#慣用方式","children":[]},{"level":2,"title":"延伸閱讀","slug":"延伸閱讀","link":"#延伸閱讀","children":[]}],"relativePath":"nvm/index.md"}'),r={name:"nvm/index.md"},D={id:"nvm-node-version-manager",tabindex:"-1"},y=n("a",{class:"header-anchor",href:"#nvm-node-version-manager","aria-hidden":"true"},"#",-1),i=e(`<p>Node.js 版本管理器。</p><h2 id="相依" tabindex="-1">相依 <a class="header-anchor" href="#相依" aria-hidden="true">#</a></h2><ul><li>設置於 Zsh 。</li></ul><h2 id="安裝" tabindex="-1">安裝 <a class="header-anchor" href="#安裝" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/bin/sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">NVM_DIR</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$XDG_CONFIG_HOME</span><span style="color:#C3E88D;">/nvm</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-f</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#A6ACCD;">$NVM_DIR</span><span style="color:#C3E88D;">/nvm.sh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">];</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NVM not installed. Installing.</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--quiet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://github.com/nvm-sh/nvm.git</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$NVM_DIR</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$NVM_DIR</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checkout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--quiet</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> describe --abbrev=0 --tags --match </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">v[0-9]*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> rev-list --tags --max-count=1</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">ln</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$DOTS</span><span style="color:#C3E88D;">/nvm/default-packages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$NVM_DIR</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$NVM_DIR</span><span style="color:#C3E88D;">/nvm.sh</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--no-progress</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">lts/*</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><ul><li>行 5 到 10 ：安裝 NVM 。</li><li>行 12 到 14 ： <ul><li>安裝最新版的 LTS 並且設為預設。</li><li>安裝預設套件。</li></ul></li></ul><h2 id="zshenv" tabindex="-1">zshenv <a class="header-anchor" href="#zshenv" aria-hidden="true">#</a></h2><div class="language-zsh"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/bin/zsh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> NVM_DIR</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$XDG_CONFIG_HOME</span><span style="color:#C3E88D;">/nvm</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h2 id="zhsrc" tabindex="-1">zhsrc <a class="header-anchor" href="#zhsrc" aria-hidden="true">#</a></h2><div class="language-zsh"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/bin/zsh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-s</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#A6ACCD;">$NVM_DIR</span><span style="color:#C3E88D;">/nvm.sh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$NVM_DIR</span><span style="color:#C3E88D;">/nvm.sh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># This loads nvm</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-s</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#A6ACCD;">$NVM_DIR</span><span style="color:#C3E88D;">/bash_completion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$NVM_DIR</span><span style="color:#C3E88D;">/bash_completion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># This loads nvm bash_completion</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># https://github.com/nvm-sh/nvm#calling-nvm-use-automatically-in-a-directory-with-a-nvmrc-file</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Calling nvm use automatically in a directory with a .nvmrc file</span></span>
<span class="line"><span style="color:#82AAFF;">autoload</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-U</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add-zsh-hook</span></span>
<span class="line"><span style="color:#82AAFF;">load-nvmrc</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">local</span><span style="color:#A6ACCD;"> node_version</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">nvm</span><span style="color:#C3E88D;"> version</span><span style="color:#89DDFF;">)&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">local</span><span style="color:#A6ACCD;"> nvmrc_path</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">nvm_find_nvmrc</span><span style="color:#89DDFF;">)&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-n</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#A6ACCD;">$nvmrc_path</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">];</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">local</span><span style="color:#A6ACCD;"> nvmrc_node_version</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">nvm</span><span style="color:#C3E88D;"> version </span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">cat</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#C3E88D;">nvmrc_path</span><span style="color:#89DDFF;">}&quot;)&quot;)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#A6ACCD;">$nvmrc_node_version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">N/A</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">];</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">nvm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">elif</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#A6ACCD;">$nvmrc_node_version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#A6ACCD;">$node_version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">];</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">nvm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">use</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">fi</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">elif</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#A6ACCD;">$node_version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#89DDFF;"> &quot;$(</span><span style="color:#FFCB6B;">nvm</span><span style="color:#C3E88D;"> version default</span><span style="color:#89DDFF;">)&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">];</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Reverting to nvm default version</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">nvm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">use</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">default</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">fi</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#FFCB6B;">add-zsh-hook</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chpwd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">load-nvmrc</span></span>
<span class="line"><span style="color:#FFCB6B;">load-nvmrc</span></span>
<span class="line"></span></code></pre></div><ul><li>行 8 到 27 ：在進到目錄時自動檢查是否有設定檔 <code>.nvmrc</code> ，有的話則使用 <code>.nvmrc</code> 所設定的版本，沒有的話則復歸為預設的版本。</li></ul><h2 id="default-packages" tabindex="-1">default-packages <a class="header-anchor" href="#default-packages" aria-hidden="true">#</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">npm-check-updates</span></span>
<span class="line"><span style="color:#A6ACCD;">yarn</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="常用指令" tabindex="-1">常用指令 <a class="header-anchor" href="#常用指令" aria-hidden="true">#</a></h2><ul><li><code>nvm ls</code> ：列出已安裝的版本。</li><li><code>nvm ls-remote --lts</code> ：列出所有可安裝的 LTS 版本。</li><li><code>nvm use [&lt;version&gt;]</code> ：使用 <code>&lt;version&gt;</code> 版本，如果沒指定 <code>&lt;version&gt;</code> 則會使用當前目錄 <code>.nvmrc</code> 設定的版本。</li><li><code>nvm install [&lt;version&gt;]</code> ：安裝 <code>&lt;version&gt;</code> 版本，如果沒指定 <code>&lt;version&gt;</code> 則會安裝當前目錄 <code>.nvmrc</code> 設定的版本。</li></ul><h2 id="慣用方式" tabindex="-1">慣用方式 <a class="header-anchor" href="#慣用方式" aria-hidden="true">#</a></h2><ul><li>使用 <code>default-packages</code> 設定全域套件。</li><li>使用 <code>.nvmrc</code> 管理各專案的 Node.js 版本。</li></ul><h2 id="延伸閱讀" tabindex="-1">延伸閱讀 <a class="header-anchor" href="#延伸閱讀" aria-hidden="true">#</a></h2><ul><li><a href="https://ithelp.ithome.com.tw/articles/10275647" target="_blank" rel="noreferrer">15 - NVM - Node.js 版本管理工具 | 尋覓網站開發的神兵利器 | 2021 iThome 鐵人賽 | iT邦幫忙</a></li></ul>`,19);function C(F,A,d,h,u,v){const a=c("Badge");return t(),o("div",null,[n("h1",D,[s("NVM - Node Version Manager "),p(a,{type:"warning",text:"Zsh"}),s(),y]),i])}const f=l(r,[["render",C]]);export{_ as __pageData,f as default};
